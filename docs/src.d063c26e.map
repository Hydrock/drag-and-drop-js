{"version":3,"sources":["index.js"],"names":["layerX","layerY","sectionElement","document","querySelector","headerElement","style","left","top","draggable","startDrag","type","e","addEventListener","setWindowPosition","parseInt","touches","clientX","target","parentNode","offsetLeft","clientY","offsetTop","stopDrag","removeEventListener","buttons","console","log"],"mappings":";AACA,IAOIA,EAAQC,EAPRC,EAAiBC,SAASC,cAAc,WACxCC,EAAgBF,SAASC,cAAc,UAG3CF,EAAeI,MAAMC,KAAO,QAC5BL,EAAeI,MAAME,IAAM,QAK3B,IAAIC,GAAY,EAEhB,SAASC,EAAWC,EAAMC,GAEtBH,GAAY,EAEZT,EAAS,EACTC,EAAS,EAGI,UAATU,GAEAX,EAASY,EAAEZ,OACXC,EAASW,EAAEX,OACXE,SAASU,iBAAiB,YAAaC,IACvB,UAATH,IACPX,EAASe,SAAUH,EAAEI,QAAQ,GAAGC,QAAUL,EAAEM,OAAOC,WAAWC,WAAa,IAC3EnB,EAASc,SAAUH,EAAEI,QAAQ,GAAGK,QAAUT,EAAEM,OAAOC,WAAWG,UAAY,IAC1EnB,SAASU,iBAAiB,YAAaC,IAI/C,SAASS,IAELd,GAAY,EACZN,SAASqB,oBAAoB,YAAaV,GAC1CX,SAASqB,oBAAoB,YAAaV,GAqB9C,SAASA,EAAkBF,GAClBH,IAIU,cAAXG,EAAED,KAGgB,IAAdC,EAAEa,UAMFvB,EAAeI,MAAMC,KAAQK,EAAEK,QAAUjB,EAAU,KACnDE,EAAeI,MAAME,IAAOI,EAAES,QAAUpB,EAAU,MAEpC,cAAXW,EAAED,OAKTe,QAAQC,IAAI1B,GACZC,EAAeI,MAAMC,KACjBQ,SAAUH,EAAEI,QAAQ,GAAGC,QAAUjB,EAAS,IAAM,KACpDE,EAAeI,MAAME,IACjBO,SAAUH,EAAEI,QAAQ,GAAGK,QAAUpB,EAAS,IAAM,OA3C5DI,EAAcQ,iBAAiB,YAAa,SAASD,GACjDF,EAAU,QAASE,KAIvBP,EAAcQ,iBAAiB,aAAc,SAASD,GAClDF,EAAU,QAASE,KAGvBT,SAASU,iBAAiB,UAAW,WACjCU,MAGJpB,SAASU,iBAAiB,WAAY,WAClCU","file":"src.d063c26e.map","sourceRoot":"..\\src","sourcesContent":["// Находим сам элемент окна и его хеадер\r\nvar sectionElement = document.querySelector('section');\r\nvar headerElement = document.querySelector('header');\r\n\r\n// Просто для примера устанавливаем стили\r\nsectionElement.style.left = '100px';\r\nsectionElement.style.top = '100px';\r\n\r\nvar layerX, layerY;\r\n\r\n// элемент перетаскивается или нет (в данный момент)\r\nvar draggable = false;\r\n\r\nfunction startDrag (type, e) {\r\n    // говорим о том что окно перетаскивается\r\n    draggable = true;\r\n\r\n    layerX = 0;\r\n    layerY = 0;\r\n\r\n    // Добавляем обработчик на движение\r\n    if (type === 'click') {\r\n        // layerX,layerY - это позиция мыши относительно таргета (не окна браузера)\r\n        layerX = e.layerX;\r\n        layerY = e.layerY;\r\n        document.addEventListener('mousemove', setWindowPosition);\r\n    } else if (type === 'touch') {\r\n        layerX = parseInt((e.touches[0].clientX - e.target.parentNode.offsetLeft), 10);\r\n        layerY = parseInt((e.touches[0].clientY - e.target.parentNode.offsetTop), 10);\r\n        document.addEventListener('touchmove', setWindowPosition);\r\n    }\r\n}\r\n\r\nfunction stopDrag () {\r\n    // выключаем перетаскивание\r\n    draggable = false;\r\n    document.removeEventListener('mousemove', setWindowPosition);\r\n    document.removeEventListener('touchmove', setWindowPosition);\r\n}\r\n\r\n// Зажимаем мышь на заголовке\r\nheaderElement.addEventListener('mousedown', function(e) {\r\n    startDrag('click', e);\r\n});\r\n\r\n// Касаемся заголовка\r\nheaderElement.addEventListener('touchstart', function(e) {\r\n    startDrag('touch', e);\r\n});\r\n\r\ndocument.addEventListener('mouseup', function() {\r\n    stopDrag();\r\n});\r\n\r\ndocument.addEventListener('touchend', function() {\r\n    stopDrag();\r\n});\r\n\r\nfunction setWindowPosition(e) {\r\n    if (!draggable) return;\r\n\r\n    //console.log(e.touches[0]);\r\n\r\n    if (e.type === 'mousemove') {\r\n        // e.buttons - какие кнопки мыши нажаты - 1 это левая\r\n        // если нажата левая кнопка мыши и элемент перетаскивается\r\n        if (e.buttons === 1) {\r\n            // вычисляем стили для окна\r\n            // берем текущее положение мыши от окна браузера\r\n            // и отнимаем то расстояние от хеадера до мыши\r\n            // в итоге окно всегда будет иметь позицию относительно\r\n            // со смещением\r\n            sectionElement.style.left = (e.clientX - layerX) + 'px';\r\n            sectionElement.style.top = (e.clientY - layerY) + 'px';\r\n        }\r\n    } else if (e.type === 'touchmove') {\r\n        // console.log(\r\n        //         parseInt(e.touches[0].clientX, 10),\r\n        //         parseInt(e.touches[0].clientY, 10)\r\n        //     );\r\n        console.log(layerY)\r\n        sectionElement.style.left =\r\n            parseInt((e.touches[0].clientX - layerX), 10) + 'px';\r\n        sectionElement.style.top =\r\n            parseInt((e.touches[0].clientY - layerY), 10) + 'px';\r\n    }\r\n}\r\n\r\n"]}